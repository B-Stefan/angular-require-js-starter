(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;!function(e,t){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)}(window,function(n,r){var i,o,s,a,u,l,c,f,p,d,h,g,m,y,v,x;return i=n(r),f=e.call(r,"ontouchstart")>=0,a={horizontal:{},vertical:{}},u=1,c={},l="waypoints-context-id",h="resize.waypoints",g="scroll.waypoints",m=1,y="waypoints-waypoint-ids",v="waypoint",x="waypoints",o=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+u++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[l]=this.id,c[this.id]=this,e.bind(g,function(){var e;return t.didScroll||f?void 0:(t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},r.setTimeout(e,n[x].settings.scrollThrottle))}),e.bind(h,function(){var e;return t.didResize?void 0:(t.didResize=!0,e=function(){return n[x]("refresh"),t.didResize=!1},r.setTimeout(e,n[x].settings.resizeThrottle))})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!f||e.vertical.oldScroll&&e.vertical.newScroll||n[x]("refresh"),n.each(e,function(e,r){var i,o,s;return s=[],o=r.newScroll>r.oldScroll,i=o?r.forward:r.backward,n.each(t.waypoints[e],function(e,t){var n,i;return r.oldScroll<(n=t.offset)&&n<=r.newScroll?s.push(t):r.newScroll<(i=t.offset)&&i<=r.oldScroll?s.push(t):void 0}),s.sort(function(e,t){return e.offset-t.offset}),o||s.reverse(),n.each(s,function(e,t){return t.options.continuous||e===s.length-1?t.trigger([i]):void 0})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,r,i=this;return r=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:r?0:t.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:t.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[x]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(e,function(e,t){return n.each(i.waypoints[e],function(e,r){var i,o,s,a,u;return i=r.options.offset,s=r.offset,o=n.isWindow(r.element)?0:r.$element.offset()[t.offsetProp],n.isFunction(i)?i=i.apply(r.element):"string"==typeof i&&(i=parseFloat(i),r.options.offset.indexOf("%")>-1&&(i=Math.ceil(t.contextDimension*i/100))),r.offset=o-t.contextOffset+t.contextScroll-i,r.options.onlyOnScroll&&null!=s||!r.enabled?void 0:null!==s&&s<(a=t.oldScroll)&&a<=r.offset?r.trigger([t.backward]):null!==s&&s>(u=t.oldScroll)&&u>=r.offset?r.trigger([t.forward]):null===s&&t.oldScroll>=r.offset?r.trigger([t.forward]):void 0})})},e.prototype.checkEmpty=function(){return n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([h,g].join(" ")),delete c[this.id]):void 0},e}(),s=function(){function e(e,t,r){var i,o;"bottom-in-view"===r.offset&&(r.offset=function(){var e;return e=n[x]("viewportHeight"),n.isWindow(t.element)||(e=t.$element.height()),e-n(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=r.horizontal?"horizontal":"vertical",this.callback=r.handler,this.context=t,this.enabled=r.enabled,this.id="waypoints"+m++,this.offset=null,this.options=r,t.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,i=null!=(o=this.element[y])?o:[],i.push(this.id),this.element[y]=i}return e.prototype.trigger=function(e){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,r;return(r=e[y])?(t=n.extend({},a.horizontal,a.vertical),n.map(r,function(e){return t[e]})):[]},e}(),d={init:function(e,t){var r;return t=n.extend({},n.fn[v].defaults,t),null==(r=t.handler)&&(t.handler=e),this.each(function(){var e,r,i,a;return e=n(this),i=null!=(a=t.context)?a:n.fn[v].defaults.context,n.isWindow(i)||(i=e.closest(i)),i=n(i),r=c[i[0][l]],r||(r=new o(i)),new s(e,r,t)}),n[x]("refresh"),this},disable:function(){return d._invoke.call(this,"disable")},enable:function(){return d._invoke.call(this,"enable")},destroy:function(){return d._invoke.call(this,"destroy")},prev:function(e,t){return d._traverse.call(this,e,t,function(e,t,n){return t>0?e.push(n[t-1]):void 0})},next:function(e,t){return d._traverse.call(this,e,t,function(e,t,n){return t<n.length-1?e.push(n[t+1]):void 0})},_traverse:function(e,t,i){var o,s;return null==e&&(e="vertical"),null==t&&(t=r),s=p.aggregate(t),o=[],this.each(function(){var t;return t=n.inArray(this,s[e]),i(o,t,s[e])}),this.pushStack(o)},_invoke:function(e){return this.each(function(){var t;return t=s.getWaypointsByElement(this),n.each(t,function(t,n){return n[e](),!0})}),this}},n.fn[v]=function(){var e,r;return r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],d[r]?d[r].apply(this,e):n.isFunction(r)?d.init.apply(this,arguments):n.isPlainObject(r)?d.init.apply(this,[null,r]):r?n.error("The "+r+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[v].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},p={refresh:function(){return n.each(c,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=r.innerHeight)?e:i.height()},aggregate:function(e){var t,r,i;return t=a,e&&(t=null!=(i=c[n(e)[0][l]])?i.waypoints:void 0),t?(r={horizontal:[],vertical:[]},n.each(r,function(e,i){return n.each(t[e],function(e,t){return i.push(t)}),i.sort(function(e,t){return e.offset-t.offset}),r[e]=n.map(i,function(e){return e.element}),r[e]=n.unique(r[e])}),r):[]},above:function(e){return null==e&&(e=r),p._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=r),p._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=r),p._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=r),p._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return p._invoke("enable")},disable:function(){return p._invoke("disable")},destroy:function(){return p._invoke("destroy")},extendFn:function(e,t){return d[e]=t},_invoke:function(e){var t;return t=n.extend({},a.vertical,a.horizontal),n.each(t,function(t,n){return n[e](),!0})},_filter:function(e,t,r){var i,o;return(i=c[n(e)[0][l]])?(o=[],n.each(i.waypoints[t],function(e,t){return r(i,t)?o.push(t):void 0}),o.sort(function(e,t){return e.offset-t.offset}),n.map(o,function(e){return e.element})):[]}},n[x]=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],p[n]?p[n].apply(null,e):p.aggregate.call(null,n)},n[x].settings={resizeThrottle:100,scrollThrottle:30},i.on("load.waypoints",function(){return n[x]("refresh")})})}).call(this);